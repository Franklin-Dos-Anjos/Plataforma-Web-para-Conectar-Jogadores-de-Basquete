<div class="players-container">
  <mat-card class="filter-card">
    <mat-card-content>
      <form [formGroup]="filterForm" (ngSubmit)="search()" class="filter-form">
        <mat-form-field appearance="outline">
          <mat-label>Cidade</mat-label>
          <input matInput formControlName="city" placeholder="Ex: Bras√≠lia" />
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Posi√ß√£o</mat-label>
          <mat-select formControlName="position">
            <mat-option value="">Todas</mat-option>
            <mat-option *ngFor="let pos of positions" [value]="pos">{{ pos }}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>N√≠vel</mat-label>
          <mat-select formControlName="level">
            <mat-option value="">Todos</mat-option>
            <mat-option *ngFor="let lvl of levels" [value]="lvl">{{ lvl }}</mat-option>
          </mat-select>
        </mat-form-field>

        <div class="actions">
          <button mat-flat-button color="primary" type="submit">Buscar</button>
          <button mat-stroked-button type="button" (click)="limparFiltros()">Limpar</button>
        </div>
      </form>
    </mat-card-content>
  </mat-card>

  <div class="results-grid">
    <div *ngFor="let player of players" class="player-card-wrapper">
      <mat-card class="player-card">
        <mat-card-header>
          <div mat-card-avatar class="avatar-placeholder">üèÄ</div>
          <mat-card-title>{{ player.name || 'Jogador' }}</mat-card-title>
          <mat-card-subtitle>{{ player.city }}</mat-card-subtitle>
        </mat-card-header>

        <mat-card-content>
          <p>
            <strong>Position:</strong> <span class="badge">{{ player.position }}</span>
          </p>
          <p><strong>N√≠vel:</strong> {{ player.level }}</p>
          <p><strong>Disponibilidade:</strong>{{ player.availability }}</p>
        </mat-card-content>

        <mat-card-actions align="end">
          <button mat-button color="primary" (click)="convidar(player)">CONVIDAR</button>
        </mat-card-actions>
      </mat-card>
    </div>

    <div *ngIf="players.length === 0" class="no-results">
      <p>Nenhum jogador encontrado com esses filtros.</p>
    </div>
  </div>
</div>
